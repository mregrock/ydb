# Обзор конфигурации

Для развёртывания кластера {{ ydb-short-name }}, изменения параметров и добавления новых узлов в кластер требуется конфигурация.

{% note info %}

 Если ваш кластер {{ ydb-short-name }} развёрнут на более ранней версии, чем v25.1, обратитесь к [статье об устаревшем способе конфигурации](../deployment-options/manual/before-v25.1/configuration-management/config-overview.md).

{% endnote %}

Конфигурация кластера {{ ydb-short-name }} представляет собой файл в формате YAML, хранимый внутри кластера и содержащий его настройки. Конфигурационный файл содержит в себе различные параметры, необходимые для запуска и настройки узлов кластера. Подробнее о параметрах можно узнать в [справке по конфигурации](../../reference/configuration/index.md). При необходимости можно воспользоваться опциональными механизмами [селекторов](dynamic-config-selectors.md) и [временных конфигураций](dynamic-config-volatile-config.md). Часть параметров вступает в силу сразу после изменения, а часть — только после перезапуска узла.

При [первоначальном развёртывании](../deployment-options/manual/index.md) необходимо разместить конфигурационные файлы на всех [узлах хранения](../../concepts/glossary.md#storage-node) по пути, указанному в параметре `ydbd --yaml-config`, и загрузить конфигурационный файл на кластер с помощью специальной команды.

При [обновлении](#update-config) параметров после выполнения специальной команды на уже развёрнутом кластере система [распределённой конфигурации](../../concepts/glossary.md#distributed-configuration.md) доставит эту конфигурацию на узлы кластера, сохранит копию в локальной директории на узлах, а также в специальном компоненте внутри кластера {{ ydb-short-name }}.

При [расширении кластера](../../maintenance/manual/cluster_expansion.md) необходимо загрузить конфигурационный файл на кластер, с помощью специальной команды, и расместить конфигурационные файлы на запускаемых впервые [узлах хранения](../../concepts/glossary.md#storage-node) по пути, указанному в параметре `ydbd --yaml-config`. На узлы, существовавшие до расширения, конфигурация будет доставлена автоматически системой [распределённой конфигурации](../../concepts/glossary.md#distributed-configuration.md).

## Базовые сценарии использования

### Первоначальное развёртывание кластера {{ ydb-short-name }} {#initial-deployment}

Для конфигурации кластера при первоначальном развёртывании необходимо воспользоваться соответствующими инструкциями в зависимости от предпочитаемого способа управления инфраструктурой:

- [Развёртывание с помощью Ansible](../deployment-options/ansible/index.md);
- [Развёртывание вручную](../deployment-options/manual/index.md).

### Обновление конфигурации {#update-config}

Для обновления конфигурации на уже развёрнутом кластере необходимо воспользоваться соответствующими командами в зависимости от способа развёртывания:

- [Обновление конфигурации для кластера, развёрнутого с помощью Ansible](../deployment-options/ansible/update-config.md);
- [Обновление конфигурации для кластера, развёрнутого вручную](../deployment-options/manual/update-config.md).

Если изменения конфигурации затрагивают параметры, требующие перезапуска узлов кластера, воспользуйтесь процедурой [rolling restart](../../reference/ydbops/rolling-restart-scenario.md). Подробнее о ней в зависимости от способа развёртывания:

* [Перезапуск кластера, развёрнутого с помощью Ansible](../deployment-options/ansible/restart.md);
* [Перезапуск кластера, развёрнутого вручную](../../reference/ydbops/rolling-restart-scenario.md).

## Смотрите также

* [Добавление новых узлов в кластер](../../maintenance/manual/cluster_expansion.md).
* [Справка по параметрам конфигурации](../../reference/configuration/index.md).
