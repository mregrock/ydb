# Обзор конфигурации

Для развёртывания кластера {{ ydb-short-name }}, изменения параметров и добавления новых узлов в кластер требуется конфигурация.

{% note info %}

 Если ваш кластер развёрнут на версии {{ ydb-short-name }} старее, чем v25.1, обратитесь к соответствующей [статье о конфигурации](../deployment-options/manual/before-v25.1/configuration-management/config-overview.md).

{% endnote %}

Конфигурация кластера {{ ydb-short-name }} представляет собой файл в формате YAML, хранимый внутри кластера и содержащий его настройки. Конфигурационный файл содержит в себе различные параметры, необходимые для запуска и настройки узлов кластера. Подробнее о параметрах можно узнать в [справке по конфигурации](../../reference/configuration/index.md). При необходимости можно воспользоваться механизмами [селекторов](dynamic-config-selectors.md) и [временных конфигураций](dynamic-config-volatile-config.md). Некоторые параметры применяются на ходу, однако чтобы применились все параметры, может потребоваться [перезапуск узлов](../../reference/ydbops/rolling-restart-scenario.md).

При [первоначальном развёртывании](../deployment-options/manual/index.md) необходимо разложить конфигурационные файлы на все [узлы хранения](../../concepts/glossary.md#storage-node) и загрузить конфигурационный файл в систему.

При [обновлении](#update-config) параметров после выполнения специальной команды на уже развёрнутом кластере система [распределённой конфигурации](../../concepts/glossary.md#dist-conf.md) доставит эту конфигурацию на узлы кластера, сохранит в директории, указанной в параметре `ydbd --config-store`, и в специальном компоненте внутри {{ ydb-short-name }}.

При [расширении кластера](../../maintenance/manual/cluster_expansion.md) необходимо загрузить конфигурационный файл в систему и разложить конфигурационные файлы на запускаемые впервые [узлы хранения](../../concepts/glossary.md#storage-node). На существовавшие до расширения узлы, конфигурация будет доставлена автоматически системой [распределённой конфигурации](../../concepts/glossary.md#dist-conf.md).

## Первоначальное развёртывание кластера {{ ydb-short-name }} {#initial-deployment}

Для развертывания кластера {{ ydb-short-name }} необходимо воспользоваться соответствующими инструкциями в зависимости от способа развёртывания:

- [Развертывание с помощью Ansible](../deployment-options/ansible/index.md);
- [Развертывание вручную](../deployment-options/manual/index.md).

## Обновление конфигурации {#update-config}

Для обновления конфигурации на уже развёрнутом кластере необходимо воспользоваться соответствующими командами в зависимости от способа развёртывания:

- [Обновление конфигурации для кластера, развёрнутого с помощью Ansible](../deployment-options/ansible/update-config.md);
- [Обновление конфигурации для кластера, развёрнутого вручную](../deployment-options/manual/update-config.md).

Если изменения конфигурации затрагивают параметры, требующие перезапуска узлов кластера, воспользуйтесь процедурой [rolling restart](../../reference/ydbops/rolling-restart-scenario.md). Подробнее о ней в зависимости от способа развёртывания:

* [Перезапуск кластера, развёрнутого с помощью Ansible](../deployment-options/ansible/restart.md);
* [Перезапуск кластера, развёрнутого вручную](../../reference/ydbops/rolling-restart-scenario.md).

## Базовые сценарии использования

* Инициализация кластера в зависимости от способа развертывания.
* [Добавление новых узлов в кластер](../../maintenance/manual/cluster_expansion.md).
* [Настройка параметров конфигурации кластера](../../reference/configuration/index.md).
